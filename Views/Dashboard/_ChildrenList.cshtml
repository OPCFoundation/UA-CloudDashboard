@using OpcUaWebDashboard
@using OpcUaWebDashboard.Models
@using Microsoft.AspNetCore.Routing
@using OpcUaWebDashboard.Properties;

@model DashboardModel

<div class="dashboard_children_container_header row">
    <div id="backIcon" class="dashboard_children_back_icon col-xs-1 col-md-1 col-lg-1 " hidden>
        <a id="allIcon" class="dashboard_children_container_header_icon" align="left" href="#">
            <img class="dashboard-chevron-left" src="/Content/img/chevron_left.svg">
        </a>
    </div>
    <p id="headerText" class="dashboard_children_container_header_text col-xs-8 col-md-8 col-lg-8 overflow">@Model.ChildrenContainerHeader</p>
    <a id="allIcon" class="dashboard_children_container_header_text_glyph" align="right" href="#" onclick="openFilterContextPanel();">
        <img id="dashboardChildrenContainerHeaderFilter" class="dashboard_filter_icon" src="/Content/img/filter.svg">
        @Resources.NoFilterApplied
    </a>
    <p id="filterIcon" class="dashboard_children_container_header_text_glyph" hidden>
        <a id="openFromFiltered" href="javascript:openFilterContextPanel();"><img id="dashboardChildrenContainerHeaderFilter" class="dashboard_container_filter" src="/Content/img/filter.svg"></a>
    </p>
</div>
<div class="dashboard_children_list_header row">
    <div class="dashboard_children_list_header_location col-xs-5 col-lg-5 overflow">@Model.ChildrenListHeaderLocation</div>
    <div class="dashboard_children_list_header_details col-xs-7 col-lg-7 overflow">@Model.ChildrenListHeaderDetails</div>
</div>
<div id="childrenListContainer" class="dashboard_children_list_container scrollbar-inner scroll_only_y row">
    <div id="dashboardChildrenList" class="col-xs-12">

        @for (int i = 0; i < Model.Children.Count; i++)
        {
            var statusMessage = Resources.Normal;
            var dashboardMarginClass = "dashboard_children_listitem_container_label";

            <div>
                <div id="dashboard_children_listitem@(i)" class="dashboard_children_listitem_container @dashboardMarginClass row">
                    <div class="dashboard_children_listitem_location col-xs-5 col-lg-5 overflow">@Model.Children.Keys.ToArray()[i]</div>
                    <div class="dashboard_children_listitem_details col-xs-6 col-lg-8 overflow">@Model.Children.Values.ToArray()[i]</div>
                </div>
            </div>
        }
    </div>
</div>

<script>
    var visible = [];

    $(document).ready(function () {
        jQuery('.scrollbar-inner').scrollbar();
        $("#backIcon").show();
        $("#headerText").addClass("dashboard_children_container_header_text_left_margin");
    })
</script>